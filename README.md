# ens-vyper

A vyper implementation of ENS core contracts

## Gas comparison

### ENSRegistry.sol/vy

* 304 gas saved on `setOwner`
* 245 gas saved on `setSubnodeOwner`

```
❯ forge test -vvvv -m ".*Gas.*"
[⠒] Compiling...
No files changed, compilation skipped

Running 2 tests for test/ENSRegistry.t.sol:ENSRegistryTest
[PASS] testGasOwnershipTransfer() (gas: 24239)
Traces:
  [24239] ENSRegistryTest::testGasOwnershipTransfer() 
    ├─ [7195] ENSRegistry::setOwner(0x0000000000000000000000000000000000000000000000000000000000000000, 0x00000000000000000000000000000000000004d2) 
    │   ├─ emit Transfer(node: 0x0000000000000000000000000000000000000000000000000000000000000000, owner: 0x00000000000000000000000000000000000004d2)
    │   └─ ← ()
    ├─ [6891] 0x037FC82298142374d974839236D2e2dF6B5BdD8F::setOwner(0x0000000000000000000000000000000000000000000000000000000000000000, 0x00000000000000000000000000000000000004d2) 
    │   ├─ emit Transfer(node: 0x0000000000000000000000000000000000000000000000000000000000000000, owner: 0x00000000000000000000000000000000000004d2)
    │   └─ ← ()
    └─ ← ()

[PASS] testGasSubdnode() (gas: 63940)
Traces:
  [63940] ENSRegistryTest::testGasSubdnode() 
    ├─ [26961] ENSRegistry::setSubnodeOwner(0x0000000000000000000000000000000000000000000000000000000000000000, 0x4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0, 0x00000000000000000000000000000000000004d2) 
    │   ├─ emit NewOwner(node: 0x0000000000000000000000000000000000000000000000000000000000000000, label: 0x4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0, owner: 0x00000000000000000000000000000000000004d2)
    │   └─ ← 0x93cdeb708b7545dc668eb9280176169d1c33cfd8ed6f04690a0bcc88a93fc4ae
    ├─ [26706] 0x037FC82298142374d974839236D2e2dF6B5BdD8F::setSubnodeOwner(0x0000000000000000000000000000000000000000000000000000000000000000, 0x4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0, 0x00000000000000000000000000000000000004d2) 
    │   ├─ emit NewOwner(node: 0x0000000000000000000000000000000000000000000000000000000000000000, label: 0x4f5b812789fc606be1b3b16908db13fc7a9adf7ca72641f84d75b47069d3d7f0, owner: 0x00000000000000000000000000000000000004d2)
    │   └─ ← 0x93cdeb708b7545dc668eb9280176169d1c33cfd8ed6f04690a0bcc88a93fc4ae
    └─ ← ()

Test result: ok. 2 passed; 0 failed; finished in 294.81ms

```

